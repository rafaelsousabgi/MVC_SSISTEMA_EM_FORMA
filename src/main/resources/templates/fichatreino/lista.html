<!DOCTYPE html>
<html layout:decorate="~{Layout}">
<head>
    
    <meta charset="UTF-8"/>
</head>
<body>
	
	    <section class="layout-content" layout:fragment="corpo">
	
	        <nav class="navbar navbar-expand-md bg-light">
	            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
	                <ul class="navbar-nav mr-auto">
	                    <li class="nav-item active">
	                        <i class="oi oi-caret-right"></i>
	                        <span>Lista de Treinos</span>
	                    </li>
	                </ul>
	                <a class="btn btn-primary btn-md" href="/fichastreinos/cadastrar" role="button">
	                    <span class="oi oi-plus" title="Cadastro" aria-hidden="true"></span>
	                    <span>Novo Treino</span>
	                </a>
	            </div>
	        </nav>
	
	        <div class="container" id="listagem">
	        
	        	<div th:replace="~{fragments/alert}"></div>
	
	            <div class="table-responsive">
	                <table class="table table-striped table-hover table-sm">
	                    <thead>
	                    <tr>
	                       
	                        <th>Nome do Aluno</th>
	                        <th >Ficha de Treino</th>
	                        <th>Descrição</th>
	                        
	                        <th>Avaliação</th>
	                        <th>Ação</th>
	                        
	                    </tr>
	                    </thead>
	                    <tbody  >
		                    <tr th:each="ft : ${fichasTreinos.content}">                   
                    			<td th:text="${ft.avaliacaoFisica.aluno.nome}"></td>	                        
		                        <td th:text="${ft.nome}"></td>
		                        <td  th:text="${ft.descricao}"></td>
		                        <td th:text="${ft.avaliacaoFisica.identificacao}"></td> 
		                        <td colspan="2">
		                            <a class="btn btn-info btn-sm" th:href="@{/fichastreinos/editar/{id} (id=${ft.id})}" role="button">
		                                <span class="oi oi-brush" title="Editar" aria-hidden="true"></span>
		                            </a>
		                            <!--#trabalhando com o javascript para abrir a janela de confirmação de exclusão-->
		                            <button th:id="${'btn_fichastreinos/excluir/ ' + ft.id}" type="button" class="btn btn-danger btn-sm"
		                            data-toggle="modal" data-target="#myModal">
		                                <span class="oi oi-circle-x" title="Exclusão desabilitada" aria-hidden="true"></span>
		                            </button>
		                        </td>
		                       
		                        </span>
		                    </tr>                                 

	                    </tbody>
	                </table>
	                
	            </div>
	             <nav th:if="${fichasTreinos.totalPages > 1}" aria-label="Page navigation">
				    <ul class="pagination">
				         <li th:class="${currentPage == 0} ? disabled : ''" class="page-item">
				            <a class="page-link" th:href="@{/fichastreinos/listar/paginado(page=0)}">Primeira</a>
				        </li>
				        <li th:class="${currentPage == 0} ? disabled : ''" class="page-item">
				            <a class="page-link" th:href="@{/fichastreinos/listar/paginado(page=${currentPage - 1})}">Anterior</a>
				        </li>
				        <li th:class="${currentPage == (totalPages - 1)} ? disabled : ''" class="page-item">
				            <a class="page-link" th:href="@{/fichastreinos/listar/paginado(page=${currentPage + 1})}">Próxima</a>
				        </li>
				         <li th:class="${currentPage == (totalPages - 1)} ? disabled : ''" class="page-item">
				            <a class="page-link" th:href="@{/fichastreinos/listar/paginado(page=${totalPages - 1})}">Última</a>
				        
				    </ul>
		        </nav>

        </div>
        	       
	        </div>
	        
	        <div th:replace="~{fragments/modal :: modal}"></div>
	
	    </section>
	<script	th:src="~{}" th:fragment="js"></script>
	<script th:inline="javascript" th:fragment="inlinescript"></script>
	
</body>
</html>		